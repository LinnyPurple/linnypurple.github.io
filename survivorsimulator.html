<!DOCTYPE html>
<html>
    <head>
        <title>Survivor Simulator</title>
    </head>
    <body onload="generateUserTable()">
        <h1>Survivor Simulator</h1>
        <h3>Made by: LinnyPurple</h3>
        <div id="userConfig">
            <table id="userTable"></table>
            <input type="submit" name="Confirm" onclick="checkUserConfig()">
        </div>

        <script>
            function getUserVariables() {
                return ["Contestants", "Days", "Tribes"];
            }

            function generateUserTable() {
                const userTable = document.querySelector("#userTable");
                const userRows = getUserVariables();
                console.log(userTable);

                for (row of userRows) {
                    userTable.insertAdjacentHTML('beforeend',
                        '<tr><td>' + row + ': </td><td><input type="text" id="userTable' + row + '"></td></tr>');
                    console.log(row);
                }
            }

            function checkUserConfig() {
                const userRows = getUserVariables();
                
                for (row of userRows) {
                    var rowValue = document.getElementById("userTable" + row).value;
                    console.log(row + ": " + rowValue);
                    if (isNaN(rowValue) || parseInt(Number(rowValue)) != rowValue || isNaN(parseInt(rowValue, 10))) {
                        console.log(row + " must be an integer!");
                    } else {
                        var rowValueParsed = parseInt(Number(rowValue));
                        if (row == "Contestants" && rowValueParsed < 3) console.log("Contestants must be >= 3!")
                        if (row == "Days" && rowValueParsed < 1) console.log("Days must be >= 1!");
                        if (row == "Tribes" && rowValueParsed < 1) console.log("Tribes must be >= 1!");
                    }
                }
            }
        </script>
    </body>
</html>